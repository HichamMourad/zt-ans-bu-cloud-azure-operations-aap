
== Your assignment.
+
=== _Estimated time: 15 minutes_

____
Deploying Applications using the Ansible Automation Platform.
____

= ‚òëÔ∏è Task 1 - Create a Job Template

Access Automation Controller.

Click on the Automation Controller tab situated at the top of the lab.
You'll see several tabs within the lab's toolbar.
To log in, use the following information:

Login details:+++<table>++++++<tr>++++++<td>+++User: +++<code>+++admin+++</code>++++++</td>+++
+++<tr>++++++<td>+++Password: +++<code>+++ansible123!+++</code>++++++</td>++++++</tr>+++
</table>

---

Click on the `Templates` link under the `Resources` group on the left navigation menu.

Now click the blue `Add` button, the select `Add job template`.

![add_job_template.png](../assets/add_job_template.png)

Fill out the following fields:

+++<table>++++++<tr>++++++<th>+++Parameter+++</th>++++++<th>+++Value+++</th>++++++</tr>+++
+++<tr>++++++<td>+++Name+++</td>++++++<td>+++Deploy Application+++</td>+++
+++<tr>++++++<td>+++Job Type+++</td>++++++<td>+++Run+++</td>+++
+++<tr>++++++<td>+++Inventory+++</td>++++++<td>+++Azure Inventory+++</td>+++
+++<tr>++++++<td>+++Project+++</td>++++++<td>+++Product Demos Project+++</td>+++
+++<tr>++++++<td>+++Execution Environment+++</td>++++++<td>+++Default execution environment+++</td>+++
+++<tr>++++++<td>+++Playbook+++</td>++++++<td>+++linux/deploy_application.yml+++</td>+++
+++<tr>++++++<td>+++Credentials+++</td>++++++<td>+++RHEL on Azure+++</td>+++
</table>

Scroll to the bottom and click `Save`.

![save-cancel.png](../assets/save-cancel.png)

Click on the `Survey` menu option to create a Survey.

![survey.png](../assets/survey.png)

Now click the blue `Add` button.
Fill out the following fields on the `Add Question` form:


+++<table>++++++<tr>++++++<th>+++Parameter+++</th>++++++<th>+++Value+++</th>++++++</tr>+++
+++<tr>++++++<td>+++Question+++</td>++++++<td>+++Enter the Linux Host you want to patch+++</td>+++
+++<tr>++++++<td>+++Answer variable name+++</td>++++++<td>+++_hosts+++</td>+++
+++<tr>++++++<td>+++Answer type+++</td>++++++<td>+++Text+++</td>+++
+++<tr>++++++<td>+++Default answer+++</td>++++++<td>+++RHEL-ansible+++</td>+++
</table>

Scroll to the bottom and click `Save`.

Add a second survey question:

+++<table>++++++<tr>++++++<th>+++Parameter+++</th>++++++<th>+++Value+++</th>++++++</tr>+++
+++<tr>++++++<td>+++Question+++</td>++++++<td>+++Which application do you want to install?+++</td>+++
+++<tr>++++++<td>+++Answer variable name+++</td>++++++<td>+++application+++</td>+++
+++<tr>++++++<td>+++Answer type+++</td>++++++<td>+++Multiple Choice (single select)+++</td>+++
	+++<tr>++++++<td>+++Multiple Choice Options+++</td>++++++<td>++++++<ul>++++++<li>+++nginx‚úÖ+++</li>++++++<li>+++gdb+++</li>++++++<li>+++httpd+++</li>++++++<li>+++nano+++</li>++++++</ul>++++++</td>+++
</table>

Enable the Survey by turning on the `Survey Disabled` dial.  Once you do this the text will change to `Survey Enabled`.

![survey_enabled.png](../assets/survey_enabled.png)


‚òëÔ∏è Task 2 - Run the Job Template
===

Launch the `Deploy Application` Job Template by selecting it and clicking on `Launch`, or by simply clicking the `Rocket Launcher` üöÄ icon.

You will be prompted to select the application(s) you want deployed, and to which Linux hosts.

Enter the Linux Host you want to patch
`RHEL-ansible`

Which application?
`nginx`

Click `Next` and then `Launch`

Monitor the job progress.  *This will take a few moments to complete.* The output will list the hosts and the application that were installed.


‚òëÔ∏è Task 2 - Run an adhoc command
===

In this task you will run an adhoc command on `RHEL-ansible` to confirm that `nginx` got installed from the previous application deployment automation job that you just ran.

In the left navigation menus on the left go to the following:  `Resources`, `Inventories`, select `Azure Inventory`, click on the `Hosts` menu, and then click the checkbox next to `RHEL-ansible` .

Once `RHEL-ansible` is selected click on the `Run Command` button.
1. `Details` view.  From the `Module` drop down select `service`, and in the `Arguments` field enter the following:  `name=nginx`  Click `Next`.
2. `Execution Environment` view. Select `Default execution environment`, then click `Next`.
3. `Credential` view. Select `RHEL on Azure`, then click `Next`.
4. `Preview` view.  Click on `Launch`.

This will take just a few moments.  The output will list the hosts and provide details on `nginx`.

In this challenge we covered how you can use automation to deploy applications.  We also walked through how you can perform adhoc commands on target hosts.  There's so much more you can do with Ansible Automation Platform.

---
**Thank you for taking the time to learn about automating cloud operations tasks (in Azure) using the Red Hat Ansible Automation Platform!  This can easily be performed in other clouds environments too!**

üêõ Encountered an issue?
====+++</tr>++++++</tr>++++++</tr>++++++</tr>++++++</table>++++++</tr>++++++</tr>++++++</tr>++++++</tr>++++++</table>++++++</tr>++++++</tr>++++++</tr>++++++</tr>++++++</tr>++++++</tr>++++++</tr>++++++</table>++++++</tr>++++++</table>+++
